{"version":3,"sources":["JokeItem.js","JokeList.js","App.js","index.js"],"names":["JokeItem","this","props","votes","className","onClick","upVote","style","borderColor","getColor","downVote","text","getEmoji","Component","JokeList","handleClick","setState","loading","getJokes","state","jokes","JSON","parse","window","localStorage","getItem","seenJokes","Set","map","joke","console","log","length","a","randJokes","numJokes","axios","get","headers","Accept","response","newJoke","data","has","push","id","uuidv4","currState","setItem","stringify","alert","delta","sortedJokes","sort","b","src","handleVote","defaultProps","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f41ac671.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './jokeItem.css';\r\n\r\nclass JokeItem extends Component {\r\n  getColor() {\r\n    if (this.props.votes >= 15) {\r\n      return \"#4CAF50\";\r\n    } else if (this.props.votes >= 12) {\r\n      return \"#8BC34A\";\r\n    } else if (this.props.votes >= 9) {\r\n      return \"#CDDC39\";\r\n    } else if (this.props.votes >= 6) {\r\n      return \"#FFEB3B\";\r\n    } else if (this.props.votes >= 3) {\r\n      return \"#FFC107\";\r\n    } else if (this.props.votes >= 0) {\r\n      return \"#FF9800\";\r\n    } else {\r\n      return \"#f44336\";\r\n    }\r\n  };\r\n\r\n  getEmoji() {\r\n    if (this.props.votes >= 15) {\r\n      return \"em em-rolling_on_the_floor_laughing\";\r\n    } else if (this.props.votes >= 12) {\r\n      return \"em em-laughing\";\r\n    } else if (this.props.votes >= 9) {\r\n      return \"em em-smiley\";\r\n    } else if (this.props.votes >= 6) {\r\n      return \"em em-slightly_smiling_face\";\r\n    } else if (this.props.votes >= 3) {\r\n      return \"em em-neutral_face\";\r\n    } else if (this.props.votes >= 0) {\r\n      return \"em em-confused\";\r\n    } else {\r\n      return \"em em-angry\";\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className='joke'>\r\n        <div className='joke-buttons'>\r\n          <i className='fas fa-arrow-up' onClick={this.props.upVote} ></i>\r\n          <span \r\n            className='joke-votes'\r\n            style={{ borderColor: this.getColor() }}\r\n          >{this.props.votes}</span>\r\n          <i className='fas fa-arrow-down' onClick={this.props.downVote} ></i>\r\n        </div>\r\n        <div className='joke-text'>{this.props.text}</div>\r\n        <div className='joke-smiley'>\r\n          <i className={this.getEmoji()} ></i>\r\n        </div>\r\n      </div>\r\n    );   \r\n  }\r\n}\r\n\r\nexport default JokeItem;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport './jokeList.css';\r\nimport JokeItem from './JokeItem';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nclass JokeList extends Component {\r\n  static defaultProps = {\r\n    numJokes: 5\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      jokes: JSON.parse(window.localStorage.getItem('jokes') || \"[]\"),\r\n      loading: false\r\n    };\r\n    this.seenJokes = new Set(this.state.jokes.map((joke) => {\r\n      return joke.text;\r\n    }));\r\n    console.log('this.seenJokes: ', this.seenJokes);\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.state.jokes.length === 0) {\r\n      this.getJokes();\r\n    }\r\n  }\r\n\r\n  async getJokes() {\r\n    try {\r\n      const randJokes = [];\r\n      while (randJokes.length < this.props.numJokes) {\r\n        const response = await axios.get('https://icanhazdadjoke.com/', {\r\n          headers: { Accept: 'application/json' } //'couse default response format is HTML\r\n        });\r\n        console.log('response: ', response);\r\n        const newJoke = response.data.joke;\r\n        if (!this.seenJokes.has(newJoke)) {\r\n          randJokes.push({ text: newJoke, votes: 0, id: uuidv4() });\r\n        } else {\r\n          console.log('found a duplicate');\r\n        }\r\n      }\r\n\r\n      this.setState((currState) => ({\r\n        loading: false,\r\n        jokes: [...currState.jokes, ...randJokes]\r\n      }),\r\n        () => window.localStorage.setItem('jokes', JSON.stringify(this.state.jokes))\r\n      );\r\n    } catch (error) {\r\n      alert(error);\r\n      this.setState({ loading: false });\r\n    }\r\n\r\n  }\r\n\r\n  handleVote(id, delta) {\r\n    this.setState((currState) => ({\r\n      jokes: currState.jokes.map((joke) =>\r\n        joke.id === id ? { ...joke, votes: joke.votes + delta } : joke\r\n      )\r\n    }),\r\n      () => window.localStorage.setItem('jokes', JSON.stringify(this.state.jokes))\r\n    );\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.setState({ loading: true }, this.getJokes);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <div className='joke-list-spinner'>\r\n          <i className='far fa-8x fa-laugh fa-spin' />\r\n          <h1 className='joke-list-title'>Loading...</h1>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const sortedJokes = this.state.jokes.sort((a, b) => b.votes - a.votes);\r\n\r\n    return (\r\n      <div className='joke-list'>\r\n        <div className='joke-list-sidebar'>\r\n          <h1 className='joke-list-title'><span>Rate</span> Jokes</h1>\r\n          <img src='https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg' />\r\n          <button\r\n            className='joke-list-getmore'\r\n            onClick={this.handleClick}\r\n          >New Jokes</button>\r\n        </div>\r\n\r\n        <div className='joke-list-jokes'>\r\n          {sortedJokes.map((joke) => (\r\n            <JokeItem\r\n              text={joke.text}\r\n              votes={joke.votes}\r\n              key={joke.id}\r\n              upVote={() => this.handleVote(joke.id, 1)}\r\n              downVote={() => this.handleVote(joke.id, -1)}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default JokeList;\r\n","import JokeList from './JokeList';\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className='app'>\r\n      <JokeList />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}